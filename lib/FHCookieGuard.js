!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("FHCookieGuard",[],t):"object"==typeof exports?exports.FHCookieGuard=t():e.FHCookieGuard=t()}(window,function(){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(e,t,o){var n,i;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(r){if(void 0===(i="function"==typeof(n=r)?n.call(t,o,t,e):n)||(e.exports=i),!0,e.exports=r(),!!0){var s=window.Cookies,c=window.Cookies=r();c.noConflict=function(){return window.Cookies=s,c}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var o=arguments[e];for(var n in o)t[n]=o[n]}return t}return function t(o){function n(t,i,r){var s;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(r=e({path:"/"},n.defaults,r)).expires){var c=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*r.expires),r.expires=c}r.expires=r.expires?r.expires.toUTCString():"";try{s=JSON.stringify(i),/^[\{\[]/.test(s)&&(i=s)}catch(e){}i=o.write?o.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var a="";for(var l in r)r[l]&&(a+="; "+l,!0!==r[l]&&(a+="="+r[l]));return document.cookie=t+"="+i+a}t||(s={});for(var u=document.cookie?document.cookie.split("; "):[],p=/(%[0-9A-Z]{2})+/g,d=0;d<u.length;d++){var f=u[d].split("="),h=f.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var k=f[0].replace(p,decodeURIComponent);if(h=o.read?o.read(h,k):o(h,k)||h.replace(p,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===k){s=h;break}t||(s[k]=h)}catch(e){}}return s}}return n.set=n,n.get=function(e){return n.call(n,e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,o){n(t,"",e(o,{expires:-1}))},n.withConverter=t,n}(function(){})})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(0),s=(n=r)&&n.__esModule?n:{default:n};var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".js-cookie-alert",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cookieAlert=document.querySelector(t),null!==this.cookieAlert&&(this.options={selectors:{accept:".js-cookie-alert-accept",refuse:".js-cookie-alert-refuse",cookieGuard:".js-cookie-guarded",parentContainer:"body"},cookieName:"cookies-accepted",expireDays:90,path:"/",activeClass:"cookie-alert-is-active",excludedPageUrls:{},callbacks:{onCloseCookieAlert:null}},this.options=Object.assign(this.options,o,this.cookieAlert.dataset),this._onAcceptCookiesClick=this._onAcceptCookiesClick.bind(this),this._onRefuseCookiesClick=this._onRefuseCookiesClick.bind(this),this.init())}return i(e,[{key:"init",value:function(){var e=this.options.cookieName;void 0!==s.default.get(e)||this._isCurrentPageExcluded()?this.cookieAlert.parentElement.removeChild(this.cookieAlert):(this._parentContainer=document.querySelector(this.options.selectors.parentContainer),this._acceptButton=document.querySelector(this.options.selectors.accept),this._refuseButton=document.querySelector(this.options.selectors.refuse),this._acceptButton.addEventListener("click",this._onAcceptCookiesClick),this._refuseButton.addEventListener("click",this._onRefuseCookiesClick),this._openCookieAlert())}},{key:"_onAcceptCookiesClick",value:function(){var e=this.options,t=e.cookieName,o=e.expireDays,n=e.path;s.default.set(t,1,{expires:parseInt(o),path:n}),this._enableCookieGuardedContent(),this._closeCookieAlert()}},{key:"_onRefuseCookiesClick",value:function(){var e=this.options,t=e.cookieName,o=e.expireDays,n=e.path;s.default.set(t,0,{expires:parseInt(o),path:n}),this._closeCookieAlert()}},{key:"_openCookieAlert",value:function(){this._parentContainer.classList.add(this.options.activeClass),this.cookieAlert.setAttribute("aria-hidden","false"),this._acceptButton.focus()}},{key:"_closeCookieAlert",value:function(){var e=this.options,t=e.activeClass,o=e.callbacks;this._parentContainer.classList.remove(t),this.cookieAlert.setAttribute("aria-hidden","true"),"function"==typeof o.onCloseCookieAlert&&o.onCloseCookieAlert()}},{key:"_isCurrentPageExcluded",value:function(){return JSON.parse(this.cookieAlert.dataset.excludedPageUrls).indexOf(window.location.pathname)>=0}},{key:"_enableCookieGuardedContent",value:function(){var e=document.querySelectorAll(this.options.selectors.cookieGuard),t=new DOMParser;e.length&&Array.prototype.forEach.call(e,function(e){var o=t.parseFromString(e.dataset.content,"text/html").querySelector("script"),n=document.createElement("script");o.src?n.src=o.src:n.innerHTML=o.innerHTML,e.parentNode.replaceChild(n,e)})}}]),e}();t.default=c}])});
//# sourceMappingURL=FHCookieGuard.js.map